# Tech Stack Document for FamilyBooks

## **Overview**

**FamilyBooks** is an iOS 18-first mobile application designed to empower Australian families to manage their finances, synchronize bank accounts, superannuation, savings, and investment accounts, educate children on saving and investing, and balance household budgets through a visually stunning, gamified interface. Built entirely in **Swift** and **SwiftUI**, the app leverages the latest iOS 18 capabilities to deliver a native, high-performance experience on iPhone and iPad, with potential future expansion to macOS via Mac Catalyst. Development will utilize **Windsurf** (configured as a Swift-focused IDE) and **Cursor** (an AI-driven IDE) for vibe-coding, harnessing AI tools like GitHub Copilot and Figma plugins (Magician, Builder.io) to accelerate wireframing, code generation, and prototyping. This Tech Stack Document outlines the technology stack, tools, frameworks, libraries, infrastructure, and vibe-coding workflows for the app’s Minimum Viable Product (MVP), scheduled for launch by July 2026 (adjusted from the original plan due to the current date of August 28, 2025). The stack integrates iOS 18 frameworks (e.g., FinanceKit, CoreML, LocalAuthentication, SwiftData, WidgetKit, StoreKit) and financial APIs (Plaid, Yodlee), ensuring a modern, scalable solution compliant with PCI DSS, GDPR, and Australia’s Privacy Act.

## **Objectives**

- Select a robust, modern tech stack to support MVP features: financial account syncing, budgeting, kids’ education, investment tracking, and family collaboration.
- Leverage Swift/SwiftUI and iOS 18 frameworks for a native, high-performance user experience.
- Ensure compatibility with iOS 18+ devices and scalability for 10,000 concurrent users.
- Utilize Windsurf and Cursor for AI-assisted vibe-coding to streamline development, testing, and deployment.
- Support future macOS expansion via Mac Catalyst and international market growth.
- Achieve a 4.5+ App Store rating through reliable technology and seamless integration.
- Maintain compliance with Apple’s guidelines, financial regulations, and privacy laws.

## **Tech Stack Overview**

### **Programming Language**

- **Swift 5.9+**: The latest version of Apple’s language, offering async/await concurrency, improved performance, and native iOS 18 support.
  - **Rationale**: Provides a single, powerful language for frontend and backend logic, reducing complexity compared to multi-language stacks (e.g., Kotlin in KMM).

### **Frontend Framework**

- **SwiftUI**: Apple’s declarative UI framework for iOS 18, enabling dynamic layouts, animations, and accessibility.
  - **Features**: `Chart` for data visualization, `Animation` for engagement, `DynamicTypeSize` for accessibility.
  - **Rationale**: Native integration ensures optimal performance and aligns with Apple’s ecosystem, ideal for a family-focused UI.

### **Backend Framework**

- **Swift (Native)**: Custom backend logic written in Swift, leveraging iOS 18 frameworks for local and cloud operations.
  - **Rationale**: Eliminates the need for a separate server-side language (e.g., Node.js), reducing costs and simplifying maintenance for an iOS-first app.

### **Data Persistence**

- **SwiftData**: Apple’s modern replacement for Core Data, providing local persistence with cloud sync capabilities.
  - **Features**: Schema-less design, automatic migration, offline support.
  - **Rationale**: Ideal for managing budgets, transactions, and goals locally, with seamless CloudKit integration.

### **Cloud Services**

- **CloudKit**: Apple’s cloud platform for data sync, notifications, and scalability.
  - **Features**: Real-time updates, private/public databases, auto-scaling.
  - **Rationale**: Native to iOS 18, reduces reliance on third-party services like Firebase.
- **Firebase (Optional Backup)**: Authentication, Analytics, and Crashlytics for additional reliability.
  - **Rationale**: Provides a fallback for CloudKit and analytics if needed.

### **AI and Machine Learning**

- **CoreML**: On-device machine learning for transaction categorization.
  - **Features**: Offline processing, privacy-focused, iOS 18-optimized.
  - **Rationale**: Enhances user experience with local AI, reducing cloud dependency.
- **AWS SageMaker (Optional)**: Cloud-based AI for advanced categorization.
  - **Rationale**: Scalable solution for future complex models.

### **Financial Integrations**

- **FinanceKit**: iOS 18.4+ framework for Apple Wallet account syncing.
  - **Rationale**: Native integration for a seamless user experience.
- **Plaid/Yodlee**: Third-party APIs for external account syncing.
  - **Rationale**: Broad bank coverage, with FinanceKit as a native fallback.

### **Security**

- **LocalAuthentication**: FaceID and Touch ID for secure access.
  - **Rationale**: Enhances security with biometric authentication.
- **CryptoKit**: Encryption for data at rest and in transit.
  - **Rationale**: Ensures PCI DSS and GDPR compliance.

### **Notifications and Widgets**

- **UserNotifications**: Push notifications for reminders.
  - **Rationale**: Keeps users engaged with timely updates.
- **WidgetKit**: Home screen widgets for quick insights.
  - **Rationale**: Leverages iOS 18’s widget enhancements.

### **In-App Purchases**

- **StoreKit**: Manages subscriptions and purchases.
  - **Rationale**: Native support for Apple’s payment system, compliant with App Store rules.

### **Development Tools**

- **Windsurf**: Swift-focused IDE with Copilot for vibe-coding.
- **Cursor**: AI-driven IDE for SwiftUI, testing, and deployment.
- **Xcode 16**: Primary environment for iOS 18 development, previews, and profiling.
- **Figma + Magician/Builder.io**: AI-assisted design and SwiftUI export.

### **CI/CD and Deployment**

- **Fastlane**: Automates builds, testing, and App Store submission.
- **GitHub Actions**: Continuous integration for code quality.

## **Detailed Tech Stack Breakdown**

### **Programming Language: Swift 5.9+**

- **Version**: Swift 5.9 (released 2023) with iOS 18 updates.
- **Features**:
  - Async/await for non-blocking operations.
  - Improved error handling with `Result`.
- **Usage**:

  ```swift
  // ios/FamilyWealthBuilder/Services/FinancialService.swift
  func fetchTransactions(accountId: String) async throws -> [Transaction] {
      let response = try await URLSession.shared.data(from: URL(string: "https://api.plaid.com/transactions/\(accountId)")!)
      return try JSONDecoder().decode([Transaction].self, from: response.0)
  }
  ```

- **Rationale**: Native performance, single-language stack, and iOS 18 optimization.

### **Frontend: SwiftUI**

- **Version**: SwiftUI 5 (iOS 18).
- **Features**:
  - Declarative syntax, live previews, `Chart` API.
- **Usage**:

  ```swift
  // ios/FamilyWealthBuilder/Views/Dashboard/DashboardView.swift
  struct DashboardView: View {
      var body: some View {
          Chart {
              BarMark(value: 500, label: Text("Groceries"))
                  .foregroundStyle(.blue.gradient)
          }
          .frame(height: 200)
          .accessibilityLabel("Spending chart")
      }
  }
  ```

- **Rationale**: Native UI, rapid prototyping with Xcode previews.

### **Backend: Swift (Native)**

- **Approach**: Client-side backend with cloud sync.
- **Usage**:

  ```swift
  // ios/FamilyWealthBuilder/Services/SyncService.swift
  import CloudKit
  class SyncService {
      func syncBudget(budget: Budget) async throws {
          let record = CKRecord(recordType: "Budget")
          record["name"] = budget.name
          try await CKContainer.default().privateCloudDatabase.save(record)
      }
  }
  ```

- **Rationale**: Reduces server costs, leverages iOS 18’s native capabilities.

### **Data Persistence: SwiftData**

- **Version**: SwiftData 1.0 (iOS 18).
- **Features**: Local storage, cloud sync with CloudKit.
- **Usage**:

  ```swift
  // ios/FamilyWealthBuilder/Models/Budget.swift
  import SwiftData
  @Model
  class Budget {
      var id: UUID
      var name: String
      var amount: Double
      init(id: UUID = UUID(), name: String, amount: Double) {
          self.id = id
          self.name = name
          self.amount = amount
      }
  }
  ```

- **Rationale**: Offline support, native integration.

### **Cloud Services: CloudKit**

- **Version**: CloudKit (iOS 18).
- **Features**: Real-time sync, scalable databases.
- **Usage**:

  ```swift
  // ios/FamilyWealthBuilder/Services/CloudKitService.swift
  class CloudKitService {
      func fetchBudgets() async throws -> [Budget] {
          let query = CKQuery(recordType: "Budget", predicate: NSPredicate(value: true))
          let results = try await CKContainer.default().privateCloudDatabase.records(matching: query)
          return results.matchResults.compactMap { try $0.1.get() }.map { Budget(id: UUID(uuidString: $0.recordID.recordName)!, name: $0["name"] as? String ?? "", amount: $0["amount"] as? Double ?? 0.0) }
      }
  }
  ```

- **Rationale**: Native, cost-effective, scalable.

### **AI and Machine Learning: CoreML**

- **Version**: CoreML 4 (iOS 18).
- **Features**: On-device inference, privacy.
- **Usage**:

  ```swift
  // ios/FamilyWealthBuilder/Services/CoreMLService.swift
  import CoreML
  class CoreMLService {
      func categorize(description: String) async throws -> String? {
          let model = try TransactionClassifier(configuration: .init())
          let prediction = try await model.prediction(text: description)
          return prediction.category
      }
  }
  ```

- **Rationale**: Offline AI, user privacy.

### **Financial Integrations: FinanceKit**

- **Version**: FinanceKit (iOS 18.4+).
- **Features**: Native account syncing.
- **Usage**:

  ```swift
  // ios/FamilyWealthBuilder/Services/FinanceKitService.swift
  import FinanceKit
  class FinanceKitService {
      func fetchAccounts() async throws -> [FinanceAccount] {
          return try await FinanceStore.shared.accounts()
      }
  }
  ```

- **Rationale**: Seamless Apple Wallet integration.

### **Security: LocalAuthentication**

- **Version**: LocalAuthentication (iOS 18).
- **Features**: FaceID, Touch ID.
- **Usage**:

  ```swift
  // ios/FamilyWealthBuilder/Services/AuthService.swift
  import LocalAuthentication
  class AuthService {
      func authenticate() async -> Bool {
          let context = LAContext()
          return await withCheckedContinuation { continuation in
              context.evaluatePolicy(.deviceOwnerAuthenticationWithBiometrics, localizedReason: "Unlock app") { success, _ in
                  continuation.resume(returning: success)
              }
          }
      }
  }
  ```

- **Rationale**: Secure, native authentication.

### **Notifications: WidgetKit**

- **Version**: WidgetKit (iOS 18).
- **Features**: Custom widgets.
- **Usage**:

  ```swift
  // ios/FamilyWealthBuilder/Widgets/WealthWidget.swift
  import WidgetKit
  struct WealthWidget: Widget {
      var body: some WidgetConfiguration {
          StaticConfiguration(kind: "Wealth", provider: Provider()) { entry in
              Text("Net Worth: $\(entry.netWorth, specifier: "%.2f")")
          }
          .configurationDisplayName("Wealth")
          .description("View net worth.")
      }
  }
  ```

- **Rationale**: Enhances user engagement.

### **Development Tools: Windsurf**

- **Version**: Latest (Swift-focused).
- **Features**: Copilot integration, Swift support.
- **Rationale**: Streamlines vibe-coding.

### **CI/CD: Fastlane**

- **Version**: Latest (2025).
- **Features**: Automated builds, deployment.
- **Usage**:

  ```ruby
  // fastlane/Fastfile
  lane :beta do
      build_app(scheme: "FamilyWealthBuilder")
      upload_to_testflight
  end
  ```

- **Rationale**: Simplifies App Store submission.

## **Vibe-Coding Workflow**

### **Tools**

- **Windsurf**: Swift IDE with Copilot for coding.
- **Cursor**: AI-driven IDE for SwiftUI and testing, with prompts like:

  ```swift
  // Generate a SwiftUI view with SwiftData integration
  ```

- **Xcode 16**: Previews, testing, profiling.

### **Process**

1. **Setup (Now–September 2025)**:
   - Configure Windsurf/Cursor with Swift 5.9+ and Xcode 16.
   - AI Prompt (Windsurf): “Generate Swift project setup for iOS 18.”
2. **Development (December 2025–April 2026)**:
   - Code sprints with AI prompts:

     ```swift
     // Create a Swift service for FinanceKit account syncing
     ```

   - Example Output:

     ```swift
     // ios/FamilyWealthBuilder/Services/FinanceKitService.swift
     import FinanceKit
     class FinanceKitService {
         func fetchAccounts() async throws -> [FinanceAccount] {
             return try await FinanceStore.shared.accounts()
         }
     }
     ```

3. **Testing (May–June 2026)**:
   - Use Cursor for XCTest cases, Windsurf for SwiftData validation.
4. **Deployment (July 2026)**:
   - Automate with Fastlane, monitor with Firebase.

### **AI-Assisted Vibe-Coding**

- **Windsurf**: Use Copilot for Swift service generation:

  ```swift
  // Generate Swift code for a CloudKit sync service
  ```

- **Cursor**: Accelerate SwiftUI coding:

  ```swift
  // Create a SwiftUI dashboard with WidgetKit integration
  ```

## **Constraints**

- **iOS Version**: iOS 18+ limits compatibility to ~60% of users by mid-2026.
- **FinanceKit**: Requires iOS 18.4+, with Plaid/Yodlee as fallback.
- **Development Time**: 6–9 months from September 2025 to July 2026.
- **API Costs**: Plaid/Yodlee ($500–$5,000/month), Firebase ($500–$2,000/month).

## **Success Criteria**

- **Compatibility**: Runs on iOS 18+ devices.
- **Performance**: API responses <500ms, app loads <2 seconds.
- **Scalability**: Supports 10,000 users with <1% error rate.
- **Security**: Meets PCI DSS, GDPR, and Privacy Act standards.
- **Usability**: 90%+ of beta testers find tech stack reliable.

## **Conclusion**

This Tech Stack Document provides a comprehensive blueprint for **FamilyBooks**'s technology ecosystem, leveraging Swift/SwiftUI and iOS 18 frameworks for a modern, scalable solution. By utilizing Windsurf and Cursor for vibe-coding, the stack supports efficient development, targeting a July 2026 launch with readiness for macOS expansion. The integration of native tools and AI-assisted workflows ensures a high-quality, family-focused app.

*Word Count: ~2000*

---
